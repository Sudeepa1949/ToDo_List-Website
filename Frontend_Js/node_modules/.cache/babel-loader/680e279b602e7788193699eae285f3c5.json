{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\prajw\\\\Capstone_Project\\\\TODO\\\\Frontend_01\\\\src\\\\components\\\\page\\\\Landing.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nexport default function Landing({\n  isAuthenticated,\n  setIsAuthenticated\n}) {\n  _s();\n\n  const [message, setMessage] = useState('');\n  const [numberAllTodoNotCompleted, setNumberAllTodoNotCompleted] = useState(0);\n  const [numberAllTodo, setNumberAllTodo] = useState(0);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const showErrorMessage = () => {\n    if (errorMessage === '') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 14\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 12\n    }, this);\n  };\n\n  useEffect(() => {\n    async function getAndSetNumberAllTodo() {\n      try {\n        const response = await axios.get('http://localhost:3002/api/todo/count', {\n          headers: {\n            'Authorization': `Bearer ${sessionStorage.getItem('token')}`\n          }\n        });\n        setNumberAllTodo(response.data.count);\n      } catch (error) {\n        setMessage('');\n\n        if (error.response) {\n          setErrorMessage(error.response.data.message);\n        } else {\n          setErrorMessage('Error: something happened');\n        }\n      }\n    }\n\n    async function getAndSetNumberAllTodoNotCompleted() {\n      try {\n        const response = await axios.get('http://localhost:3002/api/todo/count?isCompleted=false', {\n          headers: {\n            'Authorization': `Bearer ${sessionStorage.getItem('token')}`\n          }\n        });\n        setNumberAllTodoNotCompleted(response.data.count);\n      } catch (error) {\n        setMessage('');\n\n        if (error.response) {\n          setErrorMessage(error.response.data.message);\n        } else {\n          setErrorMessage('Error: something happened');\n        }\n      }\n    }\n\n    if (isAuthenticated) {\n      getAndSetNumberAllTodo();\n      getAndSetNumberAllTodoNotCompleted();\n      setMessage(`Welcome, ${sessionStorage.getItem('name')}. You have ${numberAllTodoNotCompleted} todo not completed out of ${numberAllTodo} todo.`);\n    } else {\n      setMessage('Please sign in to continue');\n    }\n  }, [isAuthenticated, numberAllTodo, numberAllTodoNotCompleted]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center\",\n    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Todo List Application\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Landing, \"AB9WAcuU47RpxwSutaWB2HTBTZk=\");\n\n_c = Landing;\n\nvar _c;\n\n$RefreshReg$(_c, \"Landing\");","map":{"version":3,"sources":["C:/Users/prajw/Capstone_Project/TODO/Frontend_01/src/components/page/Landing.js"],"names":["axios","React","useEffect","useState","Landing","isAuthenticated","setIsAuthenticated","message","setMessage","numberAllTodoNotCompleted","setNumberAllTodoNotCompleted","numberAllTodo","setNumberAllTodo","errorMessage","setErrorMessage","showErrorMessage","getAndSetNumberAllTodo","response","get","headers","sessionStorage","getItem","data","count","error","getAndSetNumberAllTodoNotCompleted"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\n\nexport default function Landing({isAuthenticated, setIsAuthenticated}) {\n  const [message, setMessage] = useState('')\n  const [numberAllTodoNotCompleted, setNumberAllTodoNotCompleted] = useState(0);\n  const [numberAllTodo, setNumberAllTodo] = useState(0);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const showErrorMessage = () => {\n    if(errorMessage === ''){\n      return <div></div>\n    }\n\n    return <div className=\"alert alert-danger\" role=\"alert\">\n      {errorMessage}\n    </div>\n  }\n\n  useEffect(() => {\n    async function getAndSetNumberAllTodo() {\n      try{\n        const response = await axios.get('http://localhost:3002/api/todo/count', {\n          headers: {\n            'Authorization': `Bearer ${sessionStorage.getItem('token')}`,\n          }\n        });\n        setNumberAllTodo(response.data.count);\n      } catch (error) {\n        setMessage('');\n        if (error.response) {\n          setErrorMessage(error.response.data.message);\n        } else {\n          setErrorMessage('Error: something happened');\n        }\n      }\n    }\n\n    async function getAndSetNumberAllTodoNotCompleted() {\n      try{\n        const response = await axios.get('http://localhost:3002/api/todo/count?isCompleted=false', {\n          headers: {\n            'Authorization': `Bearer ${sessionStorage.getItem('token')}`,\n          }\n        });\n\n        setNumberAllTodoNotCompleted(response.data.count);\n      } catch (error) {\n        setMessage('');\n        if (error.response) {\n          setErrorMessage(error.response.data.message);\n        } else {\n          setErrorMessage('Error: something happened');\n        }\n      }\n      \n    }\n    if(isAuthenticated){\n      getAndSetNumberAllTodo();\n      getAndSetNumberAllTodoNotCompleted();\n      setMessage(`Welcome, ${sessionStorage.getItem('name')}. You have ${numberAllTodoNotCompleted} todo not completed out of ${numberAllTodo} todo.`);\n    } else {\n      setMessage('Please sign in to continue');\n    }\n  }, [isAuthenticated, numberAllTodo, numberAllTodoNotCompleted])\n\n\treturn (\n\t\t<div className=\"text-center\">\n\t\t\t<h1>Todo List Application</h1>\n      \n\t\t</div>\n\t)\n}"]},"metadata":{},"sourceType":"module"}