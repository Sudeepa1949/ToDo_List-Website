{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Todo-list-master\\\\Frontend_Js\\\\src\\\\components\\\\page\\\\Landing.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\nimport image1 from \"./image1.jpg\";\nexport default function Landing({\n  isAuthenticated,\n  setIsAuthenticated\n}) {\n  _s();\n\n  const [message, setMessage] = useState('');\n  const [numberAllTodoNotCompleted, setNumberAllTodoNotCompleted] = useState(0);\n  const [numberAllTodo, setNumberAllTodo] = useState(0);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const showErrorMessage = () => {\n    if (errorMessage === '') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 14\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 12\n    }, this);\n  };\n\n  useEffect(() => {\n    async function getAndSetNumberAllTodo() {\n      try {\n        const response = await axios.get('http://localhost:3002/api/todo/count', {\n          headers: {\n            'Authorization': `Bearer ${sessionStorage.getItem('token')}`\n          }\n        });\n        setNumberAllTodo(response.data.count);\n      } catch (error) {\n        setMessage('');\n\n        if (error.response) {\n          setErrorMessage(error.response.data.message);\n        } else {\n          setErrorMessage('Error: something happened');\n        }\n      }\n    }\n\n    async function getAndSetNumberAllTodoNotCompleted() {\n      try {\n        const response = await axios.get('http://localhost:3002/api/todo/count?isCompleted=false', {\n          headers: {\n            'Authorization': `Bearer ${sessionStorage.getItem('token')}`\n          }\n        });\n        setNumberAllTodoNotCompleted(response.data.count);\n      } catch (error) {\n        setMessage('');\n\n        if (error.response) {\n          setErrorMessage(error.response.data.message);\n        } else {\n          setErrorMessage('Error: something happened');\n        }\n      }\n    }\n\n    if (isAuthenticated) {\n      getAndSetNumberAllTodo();\n      getAndSetNumberAllTodoNotCompleted();\n    } else {\n      setMessage( /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Please sign in to continue......\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 18\n      }, this));\n    }\n  }, [isAuthenticated, numberAllTodo, numberAllTodoNotCompleted]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: image1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 10\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 1\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Landing, \"AB9WAcuU47RpxwSutaWB2HTBTZk=\");\n\n_c = Landing;\n\nvar _c;\n\n$RefreshReg$(_c, \"Landing\");","map":{"version":3,"sources":["C:/Users/User/Todo-list-master/Frontend_Js/src/components/page/Landing.js"],"names":["axios","React","useEffect","useState","Link","image1","Landing","isAuthenticated","setIsAuthenticated","message","setMessage","numberAllTodoNotCompleted","setNumberAllTodoNotCompleted","numberAllTodo","setNumberAllTodo","errorMessage","setErrorMessage","showErrorMessage","getAndSetNumberAllTodo","response","get","headers","sessionStorage","getItem","data","count","error","getAndSetNumberAllTodoNotCompleted"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\nimport image1 from \"./image1.jpg\";\nexport default function Landing({isAuthenticated, setIsAuthenticated}) {\n  const [message, setMessage] = useState('')\n  const [numberAllTodoNotCompleted, setNumberAllTodoNotCompleted] = useState(0);\n  const [numberAllTodo, setNumberAllTodo] = useState(0);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const showErrorMessage = () => {\n    if(errorMessage === ''){\n      return <div></div>\n    }\n\n    return <div className=\"alert alert-danger\" role=\"alert\">\n      {errorMessage}\n    </div>\n  }\n\n  useEffect(() => {\n    async function getAndSetNumberAllTodo() {\n      try{\n        const response = await axios.get('http://localhost:3002/api/todo/count', {\n          headers: {\n            'Authorization': `Bearer ${sessionStorage.getItem('token')}`,\n          }\n        });\n        setNumberAllTodo(response.data.count);\n      } catch (error) {\n        setMessage('');\n        if (error.response) {\n          setErrorMessage(error.response.data.message);\n        } else {\n          setErrorMessage('Error: something happened');\n        }\n      }\n    }\n\n    async function getAndSetNumberAllTodoNotCompleted() {\n      try{\n        const response = await axios.get('http://localhost:3002/api/todo/count?isCompleted=false', {\n          headers: {\n            'Authorization': `Bearer ${sessionStorage.getItem('token')}`,\n          }\n        });\n\n        setNumberAllTodoNotCompleted(response.data.count);\n      } catch (error) {\n        setMessage('');\n        if (error.response) {\n          setErrorMessage(error.response.data.message);\n        } else {\n          setErrorMessage('Error: something happened');\n        }\n      }\n      \n    }\n    if(isAuthenticated){\n      getAndSetNumberAllTodo();\n      getAndSetNumberAllTodoNotCompleted();\n    } else {\n      setMessage(<p>Please sign in to continue......</p>);  \n    }\n  }, [isAuthenticated, numberAllTodo, numberAllTodoNotCompleted])\n\n\treturn (\n\t\t<div>\n<React.Fragment>\n     <header>\n         <img src={image1} />\n     </header>\n </React.Fragment>\n\t\t\t{/* {message}  */}\n\t\t</div>\n\t)\n}"]},"metadata":{},"sourceType":"module"}